{% extends "base.html" %}

{% block content %}
<form action="{{ url_for('home') }}" method="get" id="filter-form">
    <label for="genre">Filter by Genre:</label>
    <div class="filter-controls">
        <select name="genre" id="genre">
            <option value="">All Genres</option>
            {% for genre in genres %}
                <option value="{{ genre }}" {% if genre == selected_genre %}selected{% endif %}>{{ genre }}</option>
            {% endfor %}
        </select>
        <button type="submit" class="apply-button">Apply</button>
    </div>
</form>
<div class="movies">
    {% for movie in movies %}
        <div class="movie">
            <a href="{{ url_for('movie_detail', movie_id=movie.id) }}">
                <img src="{{ movie.poster }}" alt="{{ movie.title }}" title="Rating: {{ movie.rating }}">
                <div class="movie-title">{{ movie.title }}</div>
            </a>
        </div>
    {% endfor %}
</div>
{% endblock %}
